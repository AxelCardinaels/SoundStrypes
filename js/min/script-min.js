!function(){function t(){o.setup()}var o={};o.buttons=[],o.hasStarted=!1,o.pourcentLoaded=0,o.pourcentToAdd=0,o.pourcentBar=$(".loader__bar"),o.setup=function(){o.checkLoad(),o.buttons=$(".button"),o.buttons.click(function(t){t.preventDefault();var n=$(this);o.buttonClick(n)})},o.checkLoad=function(){var t=$("audio");o.pourcentToAdd=100/t.length;for(var n,a=0;a<t.length;a++)n=$(t[a]),n[0].addEventListener("canplaythrough",o.audioLoaded,!1)},o.audioLoaded=function(){o.pourcentLoaded=o.pourcentLoaded+o.pourcentToAdd,o.pourcentBar.css("width",o.pourcentLoaded+"%"),100===o.pourcentLoaded&&($(".loader").hide(),$("main").removeClass("main--waiting"))},o.buttonClick=function(t){t.hasClass("button--active")?(t.toggleClass("button--active button--inactive"),t.siblings("audio")[0].muted=!0,0===o.checkState()&&o.stopPlay()):(o.hasStarted===!1&&o.startPlay(),t.toggleClass("button--inactive button--active"),t.siblings("audio")[0].muted=!1,o.buttons=$(".button"))},o.startPlay=function(){o.hasStarted=!0;for(var t,n=0;n<o.buttons.length;n++)t=$(o.buttons[n]),t.siblings("audio")[0].play(),t.siblings("audio")[0].muted=!0},o.stopPlay=function(){o.hasStarted=!1;for(var t,n=0;n<o.buttons.length;n++)t=$(o.buttons[n]),t.siblings("audio")[0].pause(),t.siblings("audio")[0].muted=!0,t.siblings("audio")[0].currentTime=0},o.checkState=function(){var t=0,n;o.buttons=$(".button");for(var a=0;a<o.buttons.length;a++)n=$(o.buttons[a]),n.hasClass("button--active")&&t++;return t},t()}();